(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),c=a.n(r),l=(a(88),a(16)),i=a(17),o=a(21),m=a(18),d=a(22),u=a(28),p=a(6),h=a(51),g=a(73),f=(a(90),a(68)),E=a.n(f),N=a(164),C=a(148),v=a(161),b=a(169),k=a(168),I=a(5),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).profileButtonClickedHandler=function(t){e.state.anchorEl?e.setState({anchorEl:null}):e.setState({anchorEl:t.currentTarget}),e.openMenuHandler()},e.openMenuHandler=function(){return e.setState(Object(g.a)({},e.state,{menuIsOpen:!e.state.menuIsOpen}))},e.onLogOutClickedHandler=function(){sessionStorage.removeItem("access-token"),e.setState({isLoggedIn:!1})},e.onSearchChangeHandler=function(t){e.props.onSearchTextChange(t.target.value)},e.state={menuIsOpen:!1,isLoggedIn:!0},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",null,!1===this.state.isLoggedIn?s.a.createElement(p.a,{to:"/"}):s.a.createElement("div",null,s.a.createElement("header",{className:"app-header"},s.a.createElement("a",{href:"/home",id:"logo"},"Image Viewer"),this.props.showSearchBox?s.a.createElement("span",{className:"header-searchbox"},s.a.createElement(E.a,{id:"search-icon"}),s.a.createElement(N.a,{className:e.searchText,placeholder:"Search\u2026",disableUnderline:!0,onChange:this.onSearchChangeHandler})):"",this.props.showProfileIcon?s.a.createElement("span",null,s.a.createElement(C.a,{id:"profile-icon",onClick:this.profileButtonClickedHandler},s.a.createElement("img",{src:this.props.profilePicture,alt:"profileImage",id:"profile-picture"})),s.a.createElement(v.a,{id:"profile-menu",anchorEl:this.state.anchorEl,open:this.state.menuIsOpen,onClose:this.profileButtonClickedHandler},s.a.createElement(k.a,{className:e.menuList},!0===this.props.showMyAccount?s.a.createElement("div",null,s.a.createElement(u.b,{to:"/profile",className:e.menuItems,underline:"none",color:"default"},s.a.createElement(b.a,{className:e.menuItems},"My Account")),s.a.createElement("div",{className:"horizontal-line"}," ")):"",s.a.createElement(b.a,{className:"menu-items",onClick:this.onLogOutClickedHandler},"Logout")))):"")))}}]),t}(n.Component),S=Object(I.a)(function(e){return{searchText:{position:"relative",width:"100%",padding:"5px 0px 0px 5px"},menuList:{width:"150px",padding:"0px"},menuItems:{textDecoration:"none",color:"#000"}}})(x),O=(a(109),a(155)),w=a(150),y=a(151),T=a(152),L=a(166),j=a(154),H=a(48),B=a.n(H),D=a(49),_=a.n(D),A=a(167),P=a(156),U=a(153),q=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){e.state.isLoggedIn&&fetch(e.props.baseUrl+"me/media?fields=id,caption&access_token="+e.state.accessToken).then(function(e){return e.json()}).then(function(t){e.setState({mediaIdsAndCaptions:t.data}),e.state.mediaIdsAndCaptions.forEach(function(t,a){fetch(e.props.baseUrl+t.id+"?fields=id,media_type,media_url,username,timestamp&access_token="+e.state.accessToken).then(function(e){return e.json()}).then(function(a){var n=new Date(a.timestamp);n=n.toLocaleString("en-GB").split(","),a.date=n[0],a.time=n[1].trim(),a.caption=t.caption.split("\n#")[0],a.hastags="",t.caption.split(/\s+/).forEach(function(e){"#"===e[0]&&(a.hastags=a.hastags+" "+e)}),e.setState({imageData:e.state.imageData.concat(a)})})})}).catch(function(e){c.a.render(s.a.createElement("div",{style:{margin:"10% auto"}},s.a.createElement("h1",null,"403 Request Limit Error: come back later :)"),s.a.createElement("p",null,"Message: Default Instagram request limit exceeded.....")),document.getElementsByClassName("flex-container")[0])})},e.likeBtnHandler=function(t){var a=e.state.imageData.find(function(e){return e.id===t});!0===a.userLiked?(a.count=a.count-1,a.userLiked=!1,e.setState({})):(a.count=e.state.defaultCount+1,a.userLiked=!0,e.setState({}))},e.onCommentTextChangeHandler=function(t,a){e.setState({commentText:t.target.value,currentCommentId:a})},e.AddBtnHandler=function(t){var a=e.state.imageData.find(function(e){return e.id===t});""!==e.state.commentText&&(void 0===a.comments?(a.commentCount=1,a.comments=[{comment:e.state.commentText,commentCount:a.commentCount,commentId:a.id}],e.setState({commentText:""})):(a.comments=Object(h.a)(a.comments).concat([{comment:e.state.commentText,commentCount:a.commentCount+1,commentId:a.id}]),a.commentCount=a.commentCount+1,e.setState({commentText:""})))},e.onSearchTextChange=function(t){if(""!==t){var a=[];a=e.state.searchOn?e.state.copyOfImageData:e.state.imageData;var n=[];t=t.toLowerCase(),a.forEach(function(e){var a=e.caption.split("\n#")[0];(a=a.toLowerCase()).match(t)&&n.push(e)}),e.state.searchOn?e.setState({imageData:n}):e.setState({searchOn:!0,images:n,copyOfImageData:a})}else e.setState({searchOn:!1,imageData:e.state.copyOfImageData,copyOfImageData:[]})},e.state={isLoggedIn:null!=sessionStorage.getItem("access-token"),profilePicture:"https://scontent.cdninstagram.com/v/t51.29350-15/116007663_2971510962975451_2540312586520375176_n.jpg?_nc_cat=104&ccb=1-3&_nc_sid=8ae9d6&_nc_ohc=jHT5B84rqzgAX-H9hA8&_nc_ht=scontent.cdninstagram.com&oh=61c7422cbaf470935836a5af0f890b0e&oe=60B2788B",accessToken:sessionStorage.getItem("access-token"),mediaIdsAndCaptions:[],imageData:[],defaultCount:1,commentText:"",currentCommentId:"",searchOn:!1,copyOfImageData:{}},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.defaultCount;return s.a.createElement("div",null,!1===this.state.isLoggedIn?s.a.createElement(p.a,{to:"/"}):s.a.createElement("div",null,s.a.createElement(S,{profilePicture:this.state.profilePicture,showSearchBox:!!this.state.isLoggedIn,showProfileIcon:!!this.state.isLoggedIn,onSearchTextChange:this.onSearchTextChange,showMyAccount:!0}),s.a.createElement("div",{className:"flex-container"},s.a.createElement(w.a,{container:!0,spacing:3,wrap:"wrap",alignContent:"center",className:t.grid},this.state.imageData.map(function(n){return s.a.createElement(w.a,{key:n.id,item:!0,xs:12,sm:6},s.a.createElement(y.a,{className:t.card},s.a.createElement(T.a,{classes:{title:t.title},avatar:s.a.createElement(L.a,{src:e.state.profilePicture,className:t.avatar}),title:n.username,subheader:n.date+" "+n.time,className:t.cardheader}),s.a.createElement(j.a,{id:"card-content"},s.a.createElement("img",{src:n.media_url,alt:"profileImage",className:t.media}),s.a.createElement("div",{className:"horizontal-line"}),s.a.createElement("div",{className:"image-caption"},n.caption),s.a.createElement("div",{className:"image-hashtags"},n.hastags),s.a.createElement("div",null,s.a.createElement(C.a,{id:"like-button","aria-label":"like-button",onClick:function(){return e.likeBtnHandler(n.id)}},void 0===n.userLiked||!1===n.userLiked?s.a.createElement(B.a,{className:"like-icon",fontSize:"large"}):s.a.createElement(_.a,{className:"liked-icon",fontSize:"large"})),void 0===n.count?1===a?s.a.createElement("span",null,a," like"):s.a.createElement("span",null,a," likes"):1===n.count?s.a.createElement("span",null,n.count," like"):s.a.createElement("span",null,n.count," likes")),void 0===n.commentCount?"":n.comments.map(function(e){return s.a.createElement("div",{className:"comment-display",key:e.commentCount},s.a.createElement(U.a,{variant:"subtitle2",className:t.commentUsername,gutterbottom:"true"},n.username,":"),s.a.createElement(U.a,{variant:"body1",id:"comment-text-alt",className:"comment-text",gutterbottom:"true"},e.comment))}),s.a.createElement(O.a,{className:t.comment,fullWidth:!0},s.a.createElement(A.a,{htmlFor:n.id},"Add a comment"),s.a.createElement(N.a,{id:n.id,className:"comment-text",type:"text",onChange:function(t){return e.onCommentTextChangeHandler(t,n.id)},value:n.id===e.state.currentCommentId?e.state.commentText:""}),s.a.createElement(P.a,{variant:"contained",color:"primary",className:t.addCommentBtn,onClick:function(){return e.AddBtnHandler(n.id)}},"ADD")))))})))))}}]),t}(n.Component),M=Object(I.a)(function(e){return{grid:{padding:"20px"},card:{maxWidth:"100%"},avatar:{margin:10,width:60,height:60},title:{fontWeight:"600"},media:{height:"56.25%",width:"100%"},comment:{flexDirection:"row",marginTop:"10px",alignItems:"baseline",justifyContent:"center"},addCommentBtn:{marginLeft:"15px"},commentUsername:{fontSize:"inherit",fontWeight:"600"}}})(q),F=(a(111),a(157)),R=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).inputUsernameChangeHandler=function(t){e.setState({username:t.target.value})},e.inputPasswordChangeHandler=function(t){e.setState({password:t.target.value})},e.loginClickHandler=function(){""===e.state.username||""===e.state.password?(""===e.state.username?e.setState({reqUsername:"dispBlock"}):e.setState({reqUsername:"dispNone"}),""===e.state.password?e.setState({reqPassword:"dispBlock"}):e.setState({reqPassword:"dispNone"}),e.setState({invalidCredentials:"dispNone"})):"upgrad"===e.state.username&&"upgrad@123"===e.state.password?(sessionStorage.setItem("access-token","IGQVJYYUQyQWZAuOTJSbUJiWngtSTZA6X2dLVHgtTFh5TVlqQ0QtR1gxZAUp4ZA1lidTNLSk5Va0syc01zcjQ3S2ZASeTRGOUZArd2RQZAHRIM3dxUEZARd3FtUFVNdmR1SXl6T1JTZAlNVQ0g4U3IwQkJIbXl6RgZDZD"),e.setState({isLoggedIn:!0})):e.setState({reqUsername:"dispNone",reqPassword:"dispNone",invalidCredentials:"dispBlock"})},e.state={username:"",password:"",reqUsername:"dispNone",reqPassword:"dispNone",invalidCredentials:"dispNone",isLoggedIn:!1},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,!0===this.state.isLoggedIn?s.a.createElement(p.a,{to:"/home"}):s.a.createElement("div",null,s.a.createElement(S,null),s.a.createElement(y.a,{className:"cardStyle"},s.a.createElement(j.a,null,s.a.createElement(U.a,{variant:"h5",gutterBottom:!0},"LOGIN"),s.a.createElement(O.a,{required:!0,className:"formControl"},s.a.createElement(A.a,{htmlFor:"username"},"Username"),s.a.createElement(N.a,{id:"username",type:"text",username:this.state.username,onChange:this.inputUsernameChangeHandler}),s.a.createElement(F.a,{className:this.state.reqUsername},s.a.createElement("span",{className:"red"},"required"))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(O.a,{required:!0,className:"formControl"},s.a.createElement(A.a,{htmlFor:"password"},"Password"),s.a.createElement(N.a,{id:"password",type:"password",password:this.state.password,onChange:this.inputPasswordChangeHandler}),s.a.createElement(F.a,{className:this.state.reqPassword},s.a.createElement("span",{className:"red"},"required"))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(F.a,{className:this.state.invalidCredentials},s.a.createElement("span",{className:"red"},"Incorrect username and/or password")),s.a.createElement("br",null),s.a.createElement(P.a,{variant:"contained",color:"primary",onClick:this.loginClickHandler},"LOGIN")))))}}]),t}(n.Component),z=(a(113),a(158)),Z=a(72),Q=a.n(Z),W=a(162),J=a(159),V=a(160),G=function(e){return s.a.createElement(U.a,{component:"div",style:{padding:0}},e.children)},X=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).componentDidMount=function(){e.state.isLoggedIn&&fetch(e.props.baseUrl+"me/media?fields=id,caption&access_token="+e.state.accessToken).then(function(e){return e.json()}).then(function(t){e.setState({mediaIdsAndCaptions:t.data});var a=0;e.state.mediaIdsAndCaptions.forEach(function(){a+=1}),e.setState({noOfPosts:a}),e.state.mediaIdsAndCaptions.forEach(function(t,a){fetch(e.props.baseUrl+t.id+"?fields=id,media_type,media_url,username,timestamp&access_token="+e.state.accessToken).then(function(e){return e.json()}).then(function(n){var s=new Date(n.timestamp);s=s.toLocaleString("en-GB").split(","),n.date=s[0],n.time=s[1].trim(),n.caption=t.caption.split("\n#")[0],n.hastags="",t.caption.split(/\s+/).forEach(function(e){"#"===e[0]&&(n.hastags=n.hastags+" "+e)}),e.setState({imageData:e.state.imageData.concat(n)}),0===a&&e.setState({username:n.username})})})}).catch(function(e){c.a.render(s.a.createElement("div",{style:{margin:"10% auto"}},s.a.createElement("h1",null,"403 Request Limit Error: come back later :)"),s.a.createElement("p",null,"Message: Default Instagram request limit exceeded.....")),document.getElementsByClassName("flex-container")[0])})},e.fullNameEditOpenModalHandler=function(){e.setState({modalIsOpen:!0})},e.fullNameEditCloseModalHandler=function(){e.setState({modalIsOpen:!1,fullNameRequired:"dispNone"})},e.editFullNameHandler=function(t){e.setState({newName:t.target.value})},e.updateFullNameHandler=function(){""===e.state.newName?e.setState({fullNameRequired:"dispBlock"}):e.setState({fullNameRequired:"dispNone",fullName:e.state.newName,newName:"",modalIsOpen:!1})},e.imageClickHandler=function(t){e.setState({imageModalIsOpen:!0,currentImage:t,currentProfilePicture:e.state.profilePicture})},e.imageCloseModalHandler=function(){e.setState({imageModalIsOpen:!1})},e.likeBtnHandler=function(t){var a=e.state.imageData.find(function(e){return e.id===t});!0===a.userLiked?(a.count=a.count-1,a.userLiked=!1,e.setState({})):(a.count=e.state.defaultLikes+1,a.userLiked=!0,e.setState({}))},e.onCommentTextChangeHandler=function(t,a){e.setState({commentText:t.target.value,currentCommentId:a})},e.AddBtnHandler=function(t){var a=e.state.imageData.find(function(e){return e.id===t});""!==e.state.commentText&&(void 0===a.comments?(a.commentCount=1,a.comments=[{comment:e.state.commentText,commentCount:a.commentCount,commentId:a.id}],e.setState({commentText:""})):(a.comments=Object(h.a)(a.comments).concat([{comment:e.state.commentText,commentCount:a.commentCount+1,commentId:a.id}]),a.commentCount=a.commentCount+1,e.setState({commentText:""})))},e.state={isLoggedIn:null!=sessionStorage.getItem("access-token"),accessToken:sessionStorage.getItem("access-token"),imageData:[],profilePicture:"https://scontent.cdninstagram.com/v/t51.29350-15/116007663_2971510962975451_2540312586520375176_n.jpg?_nc_cat=104&ccb=1-3&_nc_sid=8ae9d6&_nc_ohc=jHT5B84rqzgAX-H9hA8&_nc_ht=scontent.cdninstagram.com&oh=61c7422cbaf470935836a5af0f890b0e&oe=60B2788B",username:"",fullName:"Tejas S",noOfPosts:"",follows:100,followedBy:100,modalIsOpen:!1,fullNameRequired:"dispNone",newName:"",imageModalIsOpen:!1,currentImage:{},currentProfilePicture:"",userLiked:!1,defaultLikes:2,commentText:"",currentCommentId:""},e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.currentImage,r=a.defaultLikes;return s.a.createElement("div",null,!1===this.state.isLoggedIn?s.a.createElement(p.a,{to:"/"}):s.a.createElement("div",null,s.a.createElement(S,{profilePicture:this.state.profilePicture,showSearchBox:!1,showProfileIcon:!!this.state.isLoggedIn,showMyAccount:!1}),s.a.createElement("div",{className:"flex-container"},s.a.createElement("div",{className:"profile-picture"},s.a.createElement("img",{className:"profile-image",src:this.state.profilePicture,alt:this.state.fullName})),s.a.createElement("div",{className:"profile-picture-summary"},s.a.createElement(U.a,{id:"profile-username",variant:"h5",component:"h5"},this.state.username),s.a.createElement(U.a,null,s.a.createElement("span",null," Posts: ",this.state.noOfPosts," "),s.a.createElement("span",{className:"spacing"}," ","Follows: ",this.state.follows," "),s.a.createElement("span",{className:"spacing"}," ","Followed By: ",this.state.followedBy," ")),s.a.createElement(U.a,{variant:"h6",component:"h6"},s.a.createElement("div",null,s.a.createElement("span",{className:"profile-fullname"},this.state.fullName),s.a.createElement(z.a,{color:"secondary","aria-label":"edit",className:t.fab,onClick:this.fullNameEditOpenModalHandler},s.a.createElement(Q.a,null)))),s.a.createElement(W.a,{className:t.modal,open:this.state.modalIsOpen,onClose:this.fullNameEditCloseModalHandler,"aria-labelledby":"edit-icon"},s.a.createElement("div",{className:t.paper},s.a.createElement("h2",{className:"heading-h2"},"Edit"),s.a.createElement(G,null,s.a.createElement(O.a,{required:!0},s.a.createElement(A.a,{htmlFor:"fullname"},"Full Name"),s.a.createElement(N.a,{id:"fullname",type:"text",fullname:this.state.fullName,onChange:this.editFullNameHandler}),s.a.createElement(F.a,{className:this.state.fullNameRequired},s.a.createElement("span",{className:"red"},"required"))),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement(P.a,{variant:"contained",color:"primary",onClick:this.updateFullNameHandler},"UPDATE")))),s.a.createElement("div",{className:"images-container"},s.a.createElement(J.a,{cellHeight:350,cols:3,className:t.gridListMain},this.state.imageData.map(function(t){return s.a.createElement(V.a,{onClick:function(){return e.imageClickHandler(t)},className:"image-grid-item",key:"grid"+t.id},s.a.createElement("img",{src:t.media_url,alt:t.id}))})),s.a.createElement(W.a,{className:t.imageModal,open:this.state.imageModalIsOpen,onClose:this.imageCloseModalHandler,"aria-labelledby":"individual-image-modal"},s.a.createElement("div",{className:t.modalStyle},s.a.createElement("div",{className:"image-modal-left"},s.a.createElement("img",{className:"clicked-image",src:this.state.currentImage.media_url,alt:this.state.fullName})),s.a.createElement("div",{className:"image-modal-right"},s.a.createElement("div",{className:"right-top"},s.a.createElement("div",{className:"right-top-image-username-container"},s.a.createElement("img",{className:"image-modal-profile-icon",src:this.state.currentProfilePicture,alt:this.state.fullName}),s.a.createElement("span",{className:"image-modal-username"},this.state.username)),s.a.createElement("div",{className:"horizontal-line"})),s.a.createElement("div",{className:"right-middleBottom-container"},s.a.createElement("div",{className:"right-middle"},s.a.createElement("div",null,this.state.currentImage.caption),s.a.createElement("div",{className:"image-hashtags"},this.state.currentImage.hastags),s.a.createElement("div",{className:"comments-container"},void 0===n.commentCount?"":n.comments.map(function(e){return s.a.createElement("div",{className:"comment-display",key:e.commentCount},s.a.createElement(U.a,{variant:"subtitle2",className:t.commentUsername,gutterbottom:"true"},n.username,":"),s.a.createElement(U.a,{variant:"body1",id:"comment-text-alt",className:"comment-text",gutterbottom:"true"},e.comment))}))),s.a.createElement("div",null,s.a.createElement(C.a,{id:"like-button","aria-label":"like-button",onClick:function(){return e.likeBtnHandler(e.state.currentImage.id)}},void 0===n.userLiked||!1===n.userLiked?s.a.createElement(B.a,{className:"like-icon",fontSize:"large"}):s.a.createElement(_.a,{className:"liked-icon",fontSize:"large"})),void 0===n.count?1===r?s.a.createElement("span",null,r," like"):s.a.createElement("span",null,r," likes"):1===n.count?s.a.createElement("span",null,n.count," like"):s.a.createElement("span",null,n.count," likes"),s.a.createElement(O.a,{className:t.comment,fullWidth:!0},s.a.createElement(A.a,{htmlFor:"comment"},"Add a comment"),s.a.createElement(N.a,{id:"comment",className:"comment-text",type:"text",onChange:function(t){return e.onCommentTextChangeHandler(t,n.id)},value:n.id===this.state.currentCommentId?this.state.commentText:""}),s.a.createElement(P.a,{variant:"contained",color:"primary",className:t.addCommentBtn,onClick:function(){return e.AddBtnHandler(n.id)}},"ADD")))))))))))}}]),t}(n.Component),Y=Object(I.a)(function(e){return{fab:{margin:e.spacing(1.5),marginTop:0},paper:{backgroundColor:"#fff",boxShadow:e.shadows[5],padding:"25px 20px"},modal:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},gridListMain:{transform:"translateZ(0)",cursor:"pointer"},modalStyle:{display:"flex",flexDirection:"row",width:800,height:400,marginTop:"7%",margin:"auto",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:"30px"},comment:{flexDirection:"row",marginTop:"5px",alignItems:"baseline",justifyContent:"center"},addCommentBtn:{marginLeft:"15px"},commentUsername:{fontSize:"inherit",fontWeight:"bolder"}}})(X),K=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).baseUrl="https://graph.instagram.com/",e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(u.a,null,s.a.createElement("div",{className:"main-container"},s.a.createElement(p.b,{exact:!0,path:"/",render:function(t){return s.a.createElement(R,Object.assign({},t,{baseUrl:e.baseUrl}))}}),s.a.createElement(p.b,{exact:!0,path:"/home",render:function(t){return s.a.createElement(M,Object.assign({},t,{baseUrl:e.baseUrl}))}}),s.a.createElement(p.b,{exact:!0,path:"/profile",render:function(t){return s.a.createElement(Y,Object.assign({},t,{baseUrl:e.baseUrl}))}})))}}]),t}(n.Component);c.a.render(s.a.createElement(K,null),document.getElementById("root"))},83:function(e,t,a){e.exports=a(115)},88:function(e,t,a){},90:function(e,t,a){}},[[83,2,1]]]);
//# sourceMappingURL=main.32e464a6.chunk.js.map